@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap');
@import '~leaflet/dist/leaflet.css';

:root {
  --foreground-rgb: 0, 0, 0;
  --background-start-rgb: 214, 219, 220;
  --background-end-rgb: 255, 255, 255;
}

@media (prefers-color-scheme: dark) {
  :root {
    --foreground-rgb: 255, 255, 255;
    --background-start-rgb: 0, 0, 0;
    --background-end-rgb: 0, 0, 0;
  }
}

* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

html,
body {
  max-width: 100vw;
  overflow-x: hidden;
  font-family: 'Inter', sans-serif;
}

body {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(
      to bottom,
      transparent,
      rgb(var(--background-end-rgb))
    )
    rgb(var(--background-start-rgb));
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: rgba(243, 244, 246, 0.5);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb {
  background: rgba(156, 163, 175, 0.7);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(107, 114, 128, 0.8);
}

/* Dark mode scrollbar */
.dark ::-webkit-scrollbar-track {
  background: rgba(31, 41, 55, 0.5);
}

.dark ::-webkit-scrollbar-thumb {
  background: rgba(75, 85, 99, 0.7);
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: rgba(107, 114, 128, 0.8);
}

/* Scrollbar utilities */
.scrollbar-thin::-webkit-scrollbar {
  width: 4px;
  height: 4px;
}

.scrollbar-thumb-gray-300::-webkit-scrollbar-thumb {
  background: rgba(209, 213, 219, 0.8);
}

.scrollbar-thumb-gray-600::-webkit-scrollbar-thumb {
  background: rgba(75, 85, 99, 0.8);
}

/* Leaflet marker icon fix */
.leaflet-container {
  height: 100%;
  width: 100%;
  z-index: 1;
}

.leaflet-marker-icon {
  margin-left: -12px !important;
  margin-top: -41px !important;
}

/* Custom components */
@layer components {
  .glass-effect {
    @apply backdrop-blur-md bg-white/80 dark:bg-gray-900/80 border border-white/20 dark:border-gray-700/30;
  }
  
  .ocean-gradient {
    @apply bg-gradient-to-br from-ocean-400 via-ocean-500 to-ocean-600;
  }
  
  .deep-gradient {
    @apply bg-gradient-to-br from-deep-700 via-deep-800 to-deep-900;
  }
  
  .chat-bubble-user {
    @apply bg-ocean-500 text-white rounded-2xl rounded-br-md px-4 py-2 ml-auto max-w-xs shadow-ocean;
  }
  
  .chat-bubble-ai {
    @apply bg-white dark:bg-deep-800 text-gray-900 dark:text-white rounded-2xl rounded-bl-md px-4 py-2 mr-auto max-w-xs shadow-lg border border-gray-200 dark:border-deep-700;
  }
  
  .metric-card {
    @apply glass-effect rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105;
  }
  
  .map-controls {
    @apply absolute top-4 right-4 z-[1000] flex flex-col gap-2;
  }
  
  .control-button {
    @apply glass-effect rounded-lg p-3 hover:bg-white/90 dark:hover:bg-gray-800/90 transition-all duration-200 cursor-pointer shadow-lg;
  }
}

/* Loading animations */
.loading-spinner {
  @apply inline-block w-6 h-6 border-2 border-ocean-200 border-t-ocean-500 rounded-full animate-spin;
}

.loading-dots::after {
  content: '';
  animation: loading-dots 1.5s infinite;
}

@keyframes loading-dots {
  0%, 20% { content: ''; }
  40% { content: '.'; }
  60% { content: '..'; }
  80%, 100% { content: '...'; }
}

/* Plotly chart container */
.plotly-chart {
  @apply w-full h-full;
}

.plotly-chart .plotly {
  @apply w-full h-full;
}

/* Cesium viewer adjustments */
.cesium-viewer {
  font-family: 'Inter', sans-serif;
}

.cesium-viewer-cesiumWidgetContainer {
  border-radius: 12px;
  overflow: hidden;
}

/* Hide Cesium credit container in production */
.cesium-credit-container {
  display: none;
}